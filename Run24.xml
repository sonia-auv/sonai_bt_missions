<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="Buoy24">
    <Sequence>
      <Fallback>
        <RetryUntilSuccessful num_attempts="5">
          <CheckAiInfo max_count="1"
                       ai_info="{buoy}"
                       confidence="0.800000"
                       camera="0"
                       min_count="1"
                       classification="buoy"/>
        </RetryUntilSuccessful>
        <SubTree ID="RotatingSearch"
                 classification="buoy"
                 ai_info="{buoy}"/>
      </Fallback>
      <Sequence>
        <SubTree ID="AlignBuoy"/>
        <SubTree ID="ApprocheTarget"
                 classification="buoy"
                 offset="-0.5"
                 _autoremap="true"/>
        <SubTree ID="BuoyCircle"/>
      </Sequence>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Gate24">
    <Sequence>
      <AiActivation activation_target="1"/>
      <SubTree ID="GateAlignTrans"/>
      <SubTree ID="ApprocheTarget"
               classification="gate_rouge"
               offset="2"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Run24">
    <Sequence>
      <SubTree ID="enable_mission"/>
      <SubTree ID="CoinFlip"/>
      <SubTree ID="Gate24"
               _autoremap="false"/>
      <SubTree ID="MoveSinglePose"
               positionX="0"
               positionY="0.0"
               positionZ="0.8"
               orientationX="0.0"
               orientationY="0.0"
               orientationZ="0.0"
               frame="4"/>
      <SubTree ID="TrickShotSingle"/>
      <SubTree ID="Buoy24"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Torpedoes24">
    <Sequence>
      <SubTree ID="AlignTorpFrame"/>
      <SubTree ID="AlignTorpFrameAngle"/>
      <SubTree ID="AlignTorpFrame"/>
      <SubTree ID="AlignTorpID"
               sizeID="0"/>
      <SubTree ID="AlignStar"/>
      <SubTree ID="MoveSinglePose"
               positionX="-1.5"
               positionY="0.0"
               positionZ="0.0"
               orientationX="0.0"
               orientationY="0.0"
               orientationZ="0.0"
               frame="1"/>
      <SubTree ID="AlignTorpID"
               sizeID="1"/>
      <SubTree ID="AlignPort"/>
    </Sequence>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Action ID="AiActivation">
      <input_port name="activation_target"
                  default="0"
                  type="int">0: OFF, 1: FRONT, 2: BOTTOM, 3: BOTH</input_port>
    </Action>
    <SubTree ID="AlignTorpID"
             editable="true">
      <input_port name="sizeID"
                  default="0"/>
    </SubTree>
    <SubTree ID="ApprocheTarget"
             editable="true">
      <input_port name="classification"/>
      <input_port name="offset"
                  default="0"/>
    </SubTree>
    <Condition ID="CheckAiInfo">
      <input_port name="max_count"
                  default="1"
                  type="int"/>
      <output_port name="ai_info"
                   type="AiDetectionArray"/>
      <input_port name="confidence"
                  default="0.800000"
                  type="float"/>
      <input_port name="camera"
                  default="0"
                  type="int">0: Front, 1: Bottom</input_port>
      <input_port name="min_count"
                  default="1"
                  type="int"/>
      <input_port name="classification"
                  type="std::string"/>
    </Condition>
    <SubTree ID="MoveSinglePose"
             editable="true">
      <input_port name="positionX"
                  default="0.0"/>
      <input_port name="positionY"
                  default="0.0"/>
      <input_port name="positionZ"
                  default="0.0"/>
      <input_port name="orientationX"
                  default="0.0"/>
      <input_port name="orientationY"
                  default="0.0"/>
      <input_port name="orientationZ"
                  default="0.0"/>
      <input_port name="frame"
                  default="1"/>
    </SubTree>
    <SubTree ID="RotatingSearch"
             editable="true">
      <input_port name="classification"/>
      <output_port name="ai_info"/>
    </SubTree>
  </TreeNodesModel>

</root>
