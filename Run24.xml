<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="Gate24">
    <Sequence>
      <AiActivation activation_target="1"/>
      <SubTree ID="GateAlignTrans"/>
      <Sequence>
        <InitTraj trajectory="{gate_traj}"/>
        <MoveToTarget trajectory="{gate_traj}"
                      offset="2"
                      aiObj="{gate_item}"/>
        <SendTrajToPlanner trajectory="{gate_traj}"
                           interpolation="0"/>
        <WaitTargetReached timeout="5"/>
      </Sequence>
      <AiActivation activation_target="0"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Run24">
    <Sequence>
      <SubTree ID="enable_mission"/>
      <SubTree ID="CoinFlip"/>
      <SubTree ID="Gate24"/>
      <SubTree ID="MoveSinglePose"
               positionX="0"
               positionY="0.0"
               positionZ="0.8"
               orientationX="0.0"
               orientationY="0.0"
               orientationZ="0.0"
               frame="4"/>
      <SubTree ID="TrickShotSingle"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="Torpedoes24">
    <Sequence>
      <SubTree ID="AlignTorpFrame"/>
      <SubTree ID="AlignTorpFrameAngle"/>
      <SubTree ID="AlignTorpFrame"/>
      <SubTree ID="AlignTorpID"
               sizeID="0"/>
      <SubTree ID="AlignStar"/>
      <SubTree ID="MoveSinglePose"
               positionX="-1.5"
               positionY="0.0"
               positionZ="0.0"
               orientationX="0.0"
               orientationY="0.0"
               orientationZ="0.0"
               frame="1"/>
      <SubTree ID="AlignTorpID"
               sizeID="1"/>
      <SubTree ID="AlignPort"/>
    </Sequence>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Action ID="AiActivation">
      <input_port name="activation_target"
                  default="0"
                  type="int">0: OFF, 1: FRONT, 2: BOTTOM, 3: BOTH</input_port>
    </Action>
    <SubTree ID="AlignTorpID"
             editable="true">
      <input_port name="sizeID"
                  default="0"/>
    </SubTree>
    <Action ID="InitTraj">
      <output_port name="trajectory"
                   type="Trajectory"/>
    </Action>
    <SubTree ID="MoveSinglePose"
             editable="true">
      <input_port name="positionX"
                  default="0.0"/>
      <input_port name="positionY"
                  default="0.0"/>
      <input_port name="positionZ"
                  default="0.0"/>
      <input_port name="orientationX"
                  default="0.0"/>
      <input_port name="orientationY"
                  default="0.0"/>
      <input_port name="orientationZ"
                  default="0.0"/>
      <input_port name="frame"
                  default="1"/>
    </SubTree>
    <Action ID="MoveToTarget">
      <inout_port name="trajectory"
                  type="Trajectory"/>
      <input_port name="offset"
                  type="float"/>
      <input_port name="aiObj"
                  type="AiDetection"/>
    </Action>
    <Action ID="SendTrajToPlanner">
      <inout_port name="trajectory"
                  type="Trajectory"/>
      <input_port name="interpolation"
                  default="0"
                  type="int"/>
    </Action>
    <Action ID="WaitTargetReached">
      <input_port name="timeout"
                  default="5"
                  type="int"/>
    </Action>
  </TreeNodesModel>

</root>
